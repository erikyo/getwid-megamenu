.wp-block-megamenu {
	margin: 0;
	max-width: 100%;

	&,
	&__toggle-wrapper {
		position: relative;
		&.is-hidden {
			display: none;
		}
	}

	/**
	 * The responsive toggle button element
	 *
	 * TODO: provide a way to se the position of the toggle button
	 */
    + .wp-block-megamenu__toggle-wrapper {
		height: $burger-size;
		margin-left: auto;
		z-index: 1006;
    }

	/**
	 * The menu in desktop mode
	 */
	&:not(.is-mobile) {
		.wp-block-megamenu-item {
			&.is-opened {
				+ .wp-block-megamenu-item__dropdown {
					height: auto;
					overflow: visible;
					opacity: 1;
				}
			}
		}
	}

	/**
	 * The menu in mobile mode
	 */
	&.is-mobile {

		&,
		.wp-block-megamenu-item__dropdown {
			position: absolute;
			top: 0;
			left: 0;
			z-index: 1005;
			display: flex;
			width: 100vw;
			align-items: center;
			justify-content: center;
			pointer-events: none;
			overflow: hidden;

			> div {
				width: 100%;
				height: 100vh;
				max-width: 100vw;
				box-sizing: border-box;
				padding: ($burger-size * 1.5) $burger-size ($burger-size * .5) var(--wp--style--root--padding-left) !important;
				opacity: 0;
				transition: 350ms;
				transform: translateX(100%);
			}
		}

		.wp-block-megamenu-item__dropdown > div {
			transform: translateX(100%);
		}


		.wp-block-megamenu-item {
			width: 100%;
		}

		&.is-opened {
			pointer-events: all;
			> div {
				opacity: 1;
				transform: translateX(0);
				background: white;
			}
		}
    }
}
